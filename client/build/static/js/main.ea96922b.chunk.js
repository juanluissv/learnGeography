(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{66:function(e,t,c){},67:function(e,t,c){},73:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(20),s=c.n(a),r=c(4),i=c(19),o=c(36),l=c(37),u=c(14),j=c(26),d=c(13),p=c.n(d),b=c(12),h=c.n(b),O=c(16),m="COUNTRY_LIST_REQUEST",x="COUNTRY_LIST_SUCCESS",v="COUNTRY_LIST_FAIL",y="ACTIVITY_LIST_REQUEST",f="ACTIVITY_LIST_SUCCESS",g="ACTIVITY_LIST_FAIL",C="COUNTRY_DETAILS_REQUEST",N="COUNTRY_DETAILS_SUCCESS",S="SEARCH_COUNTRY_REQUEST",T="SEARCH_COUNTRY_SUCCESS",E="SEARCH_COUNTRY_FAIL",A="ACTIVITY_CREATE_REQUEST",R="ACTIVITY_CREATE_SUCCESS",_="ACTIVITY_CREATE_FAIL",L="ADD_COUNTRY",I="FILTER_COUNTRY",k=function(){return function(){var e=Object(O.a)(h.a.mark((function e(t){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:m}),e.next=4,p.a.get("/api/countries");case 4:c=e.sent,n=c.data,t({type:x,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:v,payload:e.t0.response});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},U=function(e){return function(t){t({type:I,payload:e})}},w=Object(i.combineReducers)({countryList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{countries:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0,countries:[]};case x:return{loading:!1,countries:t.payload};case v:return{loading:!1,error:t.payload};default:return e}},countryDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{country:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case N:return{loading:!1,country:t.payload};case v:return{loading:!1,error:t.payload};default:return e}},activityCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{};case R:return{success:!0,activity:t.payload};case _:return{error:t.payload};default:return e}},addCountry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{myCountries:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(j.a)(Object(j.a)({},e),{},{myCountries:[].concat(Object(u.a)(e.myCountries),[t.payload])});case"COUNTRY_RESET":return{myCountries:[]};default:return e}},searchListCountries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchList:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{success:!1,searchList:[]};case T:return{success:!0,searchList:t.payload};case E:return{success:!1,error:t.payload};case"SEARCH_COUNTRY_RESET":return{searchList:[],success:!1};default:return e}},countriesFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{myFilterCountries:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{isFilter:!0,myFilterCountries:t.payload};case"FILTER_RESET":return{isFilter:!1,myFilterCountries:[]};default:return e}},activityList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{myactivities:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0,myactivities:[]};case f:return{loading:!1,myactivities:t.payload};case g:return{loading:!1,error:t.payload};default:return e}}}),Y=[o.a],F=Object(i.createStore)(w,Object(l.composeWithDevTools)(i.applyMiddleware.apply(void 0,Y))),D=(c(66),c(67),c(9)),P=c(3),H=c(0),V=function(){return Object(H.jsx)("div",{children:Object(H.jsxs)("div",{className:"welcomeBody",children:[Object(H.jsx)(D.b,{to:"/home",className:"welcomeLink",children:"Enter"}),Object(H.jsx)("h3",{className:"welcome",children:"The best place to Learn about Geography"})]})})},B=c(11),Q=function(e){var t=e.country;return Object(H.jsxs)("div",{className:"column",children:[Object(H.jsxs)(D.b,{to:"country/".concat(t.id),className:"myLink",children:[Object(H.jsx)("img",{src:t.flag,className:"flagImg"}),Object(H.jsx)("h4",{className:"countryName",children:t.name})]}),Object(H.jsx)("p",{className:"stock",children:t.continent})]})},W=function(e){for(var t=e.postsPerPage,c=e.totalPosts,n=e.paginate,a=[],s=1;s<=Math.ceil(c/t);s++)a.push(s);return Object(H.jsx)("nav",{children:Object(H.jsx)("ul",{className:"pagination",children:a.map((function(e){return Object(H.jsx)("li",{className:"page-item",children:Object(H.jsx)("button",{onClick:function(){return n(e)},className:"page-link",children:e})},e)}))})})},G=function(){var e=Object(r.b)(),t=Object(n.useState)(""),c=Object(B.a)(t,2),a=c[0],s=c[1],i=Object(r.c)((function(e){return e.countryList})),o=i.countries,l=i.loading,j=Object(r.c)((function(e){return e.activityList})).myactivities,d=Object(r.c)((function(e){return e.countriesFilter})),b=d.myFilterCountries,m=d.isFilter,x=Object(r.c)((function(e){return e.searchListCountries})),v=x.searchList,C=x.success,N=x.error;Object(n.useEffect)((function(){e(k()),e(function(){var e=Object(O.a)(h.a.mark((function e(t){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:y}),e.next=4,p.a.get("/api/countries/myactivities");case 4:c=e.sent,n=c.data,t({type:f,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:g,payload:e.t0.response});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var A=Object(n.useState)(1),R=Object(B.a)(A,2),_=R[0],L=R[1],I=[],w=[],Y=[],F=Object(n.useState)(10),P=Object(B.a)(F,1)[0],V=_*P,G=V-P;Y=o.slice(G,V),1==C&&(I=v.slice(G,V)),1==m&&(w=b.slice(G,V));var J=function(e){return L(e)},M=!0;console.log(Y.length),Y.length<10&&(M=!1);return console.log(M),Object(H.jsx)(H.Fragment,{children:l?Object(H.jsx)("p",{className:"loading",children:"Loading..."}):Object(H.jsx)("div",{children:Object(H.jsx)("div",{className:"content",children:Object(H.jsxs)("div",{className:"row",children:[Object(H.jsxs)("div",{className:"searchBox",children:[Object(H.jsx)("div",{className:"search",children:Object(H.jsxs)("form",{onSubmit:function(t){t.preventDefault(),s(""),L(1),e(function(e){return function(){var t=Object(O.a)(h.a.mark((function t(c){var n,a,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:S}),n={headers:{"Content-Type":"application/json"}},t.next=5,p.a.get("/api/countries?search=".concat(e),n);case 5:a=t.sent,s=a.data,c({type:T,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:E,payload:t.t0.response.data.error});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(a))},children:[Object(H.jsx)("input",{type:"text",placeholder:"Search country by name",value:a,onChange:function(e){return s(e.target.value)}}),Object(H.jsx)("input",{type:"submit",value:"search",className:"searchButton"})]})}),Object(H.jsx)("div",{className:"user",children:Object(H.jsx)(D.b,{to:"/activity",className:"myLink",children:Object(H.jsx)("span",{children:"Create Activity"})})}),Object(H.jsxs)("div",{className:"user",children:[Object(H.jsx)("i",{className:"fa fa-user"}),"Order by County Name",Object(H.jsx)("i",{className:"fa fa-angle-down"}),Object(H.jsxs)("select",{onChange:function(t){var c;"DESC"==t.target.value&&(c=Object(u.a)(o).reverse((function(e,t){return t[o.name]-e[o.name]}))),"ASC"==t.target.value&&(c=Object(u.a)(o).sort((function(e,t){return t[o.name]-e[o.name]}))),L(1),e({type:"SEARCH_COUNTRY_RESET"}),e(U(c))},className:"mySelect",children:[Object(H.jsx)("option",{value:"ASC",children:"choose one"}),Object(H.jsx)("option",{value:"ASC",children:"ASC"}),Object(H.jsx)("option",{value:"DESC",children:"DESC"})]})]}),Object(H.jsxs)("div",{className:"user",children:[Object(H.jsx)("i",{className:"fa fa-user"}),"Order by Population",Object(H.jsx)("i",{className:"fa fa-angle-down"}),Object(H.jsxs)("select",{onChange:function(t){var c;"ASC"==t.target.value&&(c=Object(u.a)(o).sort((function(e,t){return e.population-t.population}))),"DESC"==t.target.value&&(c=Object(u.a)(o).sort((function(e,t){return t.population-e.population}))),L(1),e({type:"SEARCH_COUNTRY_RESET"}),e(U(c))},className:"mySelect",children:[Object(H.jsx)("option",{value:"ASC",children:"choose one"}),Object(H.jsx)("option",{value:"ASC",children:"ASC"}),Object(H.jsx)("option",{value:"DESC",children:"DESC"})]})]}),Object(H.jsxs)("div",{className:"user",children:[Object(H.jsx)("i",{className:"fa fa-user"}),"Order by Continent",Object(H.jsx)("i",{className:"fa fa-angle-down"}),Object(H.jsxs)("select",{onChange:function(t){var c=o.filter((function(e){return e.continent.includes(t.target.value)}));L(1),e({type:"SEARCH_COUNTRY_RESET"}),e(U(c))},className:"mySelect",children:[Object(H.jsx)("option",{value:"Americas",children:"choose one"}),Object(H.jsx)("option",{value:"Americas",children:"Americas"}),Object(H.jsx)("option",{value:"Europe",children:"Europe"}),Object(H.jsx)("option",{value:"Africa",children:"Africa"}),Object(H.jsx)("option",{value:"Asia",children:"Asia"}),Object(H.jsx)("option",{value:"Asia",children:"Oceania"})]})]}),Object(H.jsxs)("div",{className:"user",children:[Object(H.jsx)("i",{className:"fa fa-user"}),"Order by Activity",Object(H.jsx)("i",{className:"fa fa-angle-down"}),Object(H.jsxs)("select",{onChange:function(t){var c=[];o.map((function(e){e.activities.length>0&&e.activities.map((function(n){n.name==t.target.value&&c.push(e)}))})),L(1),e({type:"SEARCH_COUNTRY_RESET"}),e(U(c))},className:"mySelect",children:[Object(H.jsx)("option",{value:"",children:"choose one"}),j.map((function(e,t){return Object(H.jsx)("option",{value:e.value,children:e.name},t)}))]})]})]}),N?Object(H.jsx)("p",{className:"myerror",children:N}):C?Object(H.jsxs)("div",{children:[I.map((function(e){return Object(H.jsx)(Q,{country:e},e.id)})),Object(H.jsx)(W,{postsPerPage:P,totalPosts:v.length,paginate:J})]}):m?Object(H.jsxs)("div",{children:[w.map((function(e){return Object(H.jsx)(Q,{country:e},e.id)})),M?Object(H.jsx)(W,{postsPerPage:P,totalPosts:b.length,paginate:J}):"",Object(H.jsxs)("p",{className:"yourPage",children:[" you are in page: ",_]})]}):Object(H.jsxs)("div",{children:[Y.map((function(e){return Object(H.jsx)(Q,{country:e},e.id)})),Object(H.jsx)(W,{postsPerPage:P,totalPosts:o.length,paginate:J}),Object(H.jsxs)("p",{className:"yourPage",children:[" you are in page: ",_]})]})]})})})})},J=function(e){var t=e.activity;return Object(H.jsxs)("div",{className:"column",children:[Object(H.jsxs)("h4",{children:["Name: ",t.name]}),Object(H.jsxs)("p",{className:"stock",children:["Duration: ",t.duration]}),Object(H.jsxs)("p",{className:"stock",children:["Difficulty: ",t.difficulty]}),Object(H.jsxs)("p",{className:"stock",children:["Season: ",t.season]})]})},M=function(e){var t=e.match,c=Object(r.b)(),a=!1,s=Object(r.c)((function(e){return e.countryDetails})),i=s.country,o=s.loading;return Object(n.useEffect)((function(){var e;c((e=t.params.id,function(){var t=Object(O.a)(h.a.mark((function t(c){var n,a,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:C}),n={headers:{"Content-Type":"application/json"}},t.next=5,p.a.get("/api/countries/".concat(e),n);case 5:a=t.sent,s=a.data,c({type:N,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:"COUNTRY_DETAILS_FAIL",payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))}),[c,t]),0==o&&i.activities.length>0&&(a=!0,console.log(a)),Object(H.jsxs)(H.Fragment,{children:[o?Object(H.jsx)("p",{children:"Loading"}):Object(H.jsxs)("div",{className:"column2",children:[Object(H.jsx)("h3",{children:i.name}),Object(H.jsx)("img",{src:i.flag,className:"flagImg2"}),Object(H.jsxs)("p",{className:"stock",children:["Code: ",Object(H.jsx)("span",{className:"countryText",children:i.id})]}),Object(H.jsxs)("p",{className:"stock",children:["Continent: ",Object(H.jsx)("span",{className:"countryText",children:i.continent})]}),Object(H.jsxs)("p",{className:"stock",children:["Capital: ",Object(H.jsx)("span",{className:"countryText",children:i.capital})]}),Object(H.jsxs)("p",{className:"stock",children:["SubRegion: ",Object(H.jsx)("span",{className:"countryText",children:i.subregion})," "]}),Object(H.jsxs)("p",{className:"stock",children:["Area: ",Object(H.jsx)("span",{className:"countryText",children:i.area})]}),Object(H.jsxs)("p",{className:"stock",children:["Population: ",Object(H.jsx)("span",{className:"countryText",children:i.population})]})]}),a?Object(H.jsxs)("div",{children:[Object(H.jsx)("h4",{className:"countActi",children:"Activities for this Country:"}),i.activities.map((function(e){return Object(H.jsx)(J,{activity:e},e.id)}))]}):Object(H.jsx)("p",{children:"No Activities"})]})},q=function(e){var t=e.country,c=Object(r.b)(),a=Object(n.useState)(!1),s=Object(B.a)(a,2),i=s[0],o=s[1],l=function(e){o(!0),c(function(e){return function(t){t({type:L,payload:e})}}(e))};return Object(H.jsxs)("div",{className:"column",children:[Object(H.jsx)("img",{src:t.flag,className:"flagImg"}),Object(H.jsx)("h4",{children:t.name}),Object(H.jsx)("button",{onClick:function(e){return l(t.id)},disabled:i,className:"myButton2",children:"Add Country"})]})},z=function(e){var t=e.history,c=Object(r.b)(),a=Object(n.useState)(""),s=Object(B.a)(a,2),i=s[0],o=s[1],l=Object(n.useState)("1"),u=Object(B.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(""),m=Object(B.a)(b,2),x=m[0],v=m[1],y=Object(n.useState)("Winter"),f=Object(B.a)(y,2),g=f[0],C=f[1],N=Object(r.c)((function(e){return e.countryList})),S=N.countries,T=(N.loading,Object(r.c)((function(e){return e.addCountry})).myCountries);console.log(T);return Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{className:"activityForm",children:Object(H.jsxs)("form",{onSubmit:function(e){var n;e.preventDefault(),c((n={name:i,difficulty:j,duration:x,season:g,myCountries:T},function(){var e=Object(O.a)(h.a.mark((function e(t){var c,a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:A}),c={headers:{"Content-Type":"application/json"}},e.next=5,p.a.post("/api/countries/activity",n,c);case 5:a=e.sent,s=a.data,t({type:R,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:_,payload:e.t0.response});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),c({type:"COUNTRY_RESET"}),c(k()),t.push("/home")},children:[Object(H.jsxs)("div",{children:[Object(H.jsx)("label",{children:"Name:"}),Object(H.jsx)("input",{className:"myInput",type:"text",placeholder:"Enter name",name:"name",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(H.jsxs)("div",{children:[Object(H.jsx)("label",{children:"Difficulty:"}),Object(H.jsxs)("select",{value:j,onChange:function(e){return d(e.target.value)},className:"mySelect2",children:[Object(H.jsx)("option",{value:"1",children:"1"}),Object(H.jsx)("option",{value:"2",children:"2"}),Object(H.jsx)("option",{value:"3",children:"3"}),Object(H.jsx)("option",{value:"4",children:"4"}),Object(H.jsx)("option",{value:"5",children:"5"})]})]}),Object(H.jsxs)("div",{children:[Object(H.jsx)("label",{children:"duration:"}),Object(H.jsx)("input",{className:"myInput",type:"text",placeholder:"Enter Duration",name:"duration",value:x,onChange:function(e){return v(e.target.value)}})]}),Object(H.jsxs)("div",{children:[Object(H.jsx)("label",{children:"Season:"}),Object(H.jsxs)("select",{value:g,onChange:function(e){return C(e.target.value)},className:"mySelect2",children:[Object(H.jsx)("option",{value:"Winter",children:"Winter"}),Object(H.jsx)("option",{value:"Summer",children:"Summer"}),Object(H.jsx)("option",{value:"Spring",children:"Spring"}),Object(H.jsx)("option",{value:"Fall",children:"Fall"})]})]}),Object(H.jsx)("input",{type:"submit",className:"submitAct"})]})}),Object(H.jsx)("h3",{className:"addCountry",children:"Add Countries to the Activity"}),S.map((function(e){return Object(H.jsx)(q,{country:e},e.id)}))]})},K=function(){var e=Object(r.b)();return Object(H.jsx)("header",{className:"header",children:Object(H.jsx)("div",{className:"logo",children:Object(H.jsx)(D.b,{to:"/home",className:"myLink",onClick:function(){e({type:"SEARCH_COUNTRY_RESET"}),e({type:"FILTER_RESET"}),e(k())},children:Object(H.jsx)("h1",{children:Object(H.jsx)("span",{className:"e",children:"Learn Geography"})})})})})};var X=function(){return Object(H.jsx)(D.a,{children:Object(H.jsxs)("div",{className:"container",children:[Object(H.jsx)(P.a,{path:"/",component:K}),Object(H.jsx)(P.a,{path:"/",component:V,exact:!0}),Object(H.jsx)(P.a,{path:"/home",component:G}),Object(H.jsx)(P.a,{path:"/country/:id",component:M,exact:!0}),Object(H.jsx)(P.a,{path:"/activity",component:z})]})})};s.a.render(Object(H.jsx)(r.a,{store:F,children:Object(H.jsx)(X,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.ea96922b.chunk.js.map